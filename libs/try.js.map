{"version":3,"sources":["../src/try.js"],"names":["Seneca","require","transportConfig","clients","type","pins","role","cmd","port","host","timeout","listenings","si","listen","add","args","done","ok","result","timestamp","Date","service","ping","getPing","then","console","log","res"],"mappings":";;AAAA,IAAIA,SAASC,OAAT,UAAJ;AACA,IAAIC,kBAAkB;AACpBC,WAAS,CACP;AACEC,UAAM,MADR;AAEEC,UAAM,CACJ,EAACC,MAAM,QAAP,EAAiBC,KAAK,GAAtB,EADI,EAEJ,EAACD,MAAM,QAAP,EAAiBC,KAAK,UAAtB,EAFI,CAFR;AAMEC,UAAM,MANR;AAOEC,UAAM,WAPR;AAQEC,aAAS;AARX,GADO,CADW;AAapBC,cAAY;AAbQ,CAAtB;;AAgBA,IAAIC,KAAKZ,OAAO,EAAP,CAAT;AACAY,GAAGC,MAAH,CAAUX,gBAAgBC,OAAhB,CAAwB,CAAxB,CAAV;AACAS,GAAGE,GAAH,CAAO,EAACR,MAAM,QAAP,EAAiBC,KAAK,cAAtB,EAAP,EAA8C,UAASQ,IAAT,EAAeC,IAAf,EAAoB;AAChEA,OAAK,IAAL,EAAW,EAACC,IAAI,IAAL,EAAWC,QAAO,EAACC,WAAW,IAAIC,IAAJ,EAAZ,EAAwBC,SAAQ,QAAhC,EAAlB,EAAX;AACD,CAFD;;AAIA,IAAIC,OAAOrB,QAAQ,cAAR,EAAwBsB,OAAxB,CAAgC,EAAhC,EAAoCrB,eAApC,CAAX;AACAoB,KAAK,QAAL,EACCE,IADD,CACM;AAAA,SAAKC,QAAQC,GAAR,CAAY,KAAZ,EAAmBC,GAAnB,CAAL;AAAA,CADN","file":"try.js","sourcesContent":["var Seneca = require('seneca');\nvar transportConfig = {\n  clients: [\n    {\n      type: 'http',\n      pins: [\n        {role: 'role_1', cmd: '*'},\n        {role: 'role_2', cmd: 'unrolled'}\n      ],\n      port: '8000',\n      host: 'localhost',\n      timeout: 3000\n    }\n  ],\n  listenings: []\n}\n\nvar si = Seneca({})\nsi.listen(transportConfig.clients[0])\nsi.add({role: 'role_1', cmd: '_healthCheck'}, function(args, done){\n  done(null, {ok: true, result:{timestamp: new Date(), service:'role_1'}})\n})\n\nvar ping = require('../libs/tool').getPing({}, transportConfig)\nping('role_1')\n.then(res=>console.log('res', res))"]}