{"version":3,"sources":["../src/register.js"],"names":["register","seneca","transportConfig","uses","reduce","prev","curr","use","listenings","Array","isArray","listen","clients","client"],"mappings":";;;;;QAAgBA,Q,GAAAA,Q;AAAT,SAASA,QAAT,CAAkBC,MAAlB,EAAgD;AAAA,MAAtBC,eAAsB,uEAAJ,EAAI;;AACrD,MAAIA,gBAAgBC,IAApB,EAA0B;AACxBD,oBAAgBC,IAAhB,CAAqBC,MAArB,CAA4B,UAACC,IAAD,EAAOC,IAAP,EAAe;AACzC,aAAOD,KAAKE,GAAL,CAASD,IAAT,CAAP;AACD,KAFD,EAEGL,MAFH;AAGD;;AAED,MAAIC,gBAAgBM,UAApB,EAAgC;AAC9B,QAAIC,MAAMC,OAAN,CAAcR,gBAAgBM,UAA9B,CAAJ,EAA+C;AAC7CN,sBAAgBM,UAAhB,CAA2BJ,MAA3B,CAAkC,UAACC,IAAD,EAAOC,IAAP,EAAe;AAC/C,eAAOD,KAAKM,MAAL,CAAYL,IAAZ,CAAP;AACD,OAFD,EAEGL,MAFH;AAGD,KAJD,MAIO;AACLA,aAAOU,MAAP,CAAcT,gBAAgBM,UAA9B;AACD;AACF;;AAED,MAAIN,gBAAgBU,OAApB,EAA6B;AAC3B,QAAIH,MAAMC,OAAN,CAAcR,gBAAgBU,OAA9B,CAAJ,EAA4C;AAC1CV,sBAAgBU,OAAhB,CAAwBR,MAAxB,CAA+B,UAACC,IAAD,EAAOC,IAAP,EAAe;AAC5C,eAAOD,KAAKQ,MAAL,CAAYP,IAAZ,CAAP;AACD,OAFD,EAEGL,MAFH;AAGD,KAJD,MAIO;AACLA,aAAOY,MAAP,CAAcX,gBAAgBU,OAA9B;AACD;AACF;AACF","file":"register.js","sourcesContent":["export function register(seneca, transportConfig = {}) {\n  if (transportConfig.uses) {\n    transportConfig.uses.reduce((prev, curr)=> {\n      return prev.use(curr);\n    }, seneca);\n  }\n\n  if (transportConfig.listenings) {\n    if (Array.isArray(transportConfig.listenings)) {\n      transportConfig.listenings.reduce((prev, curr)=> {\n        return prev.listen(curr);\n      }, seneca);\n    } else {\n      seneca.listen(transportConfig.listenings)\n    }\n  }\n\n  if (transportConfig.clients) {\n    if (Array.isArray(transportConfig.clients)) {\n      transportConfig.clients.reduce((prev, curr)=> {\n        return prev.client(curr);\n      }, seneca);\n    } else {\n      seneca.client(transportConfig.clients)\n    }\n  }\n}"]}